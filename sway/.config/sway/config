# Sway configuration for MacBook 11 (2013)
# Ubuntu 24.04

### Variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term kitty
set $browser brave-browser
set $menu tofi-drun | xargs swaymsg exec --
set $filemanager nautilus --new-window

### Output configuration
# MacBook Pro 14" display - 2560x1600 with 2x scaling
output eDP-1 {
    resolution 2560x1600
    position 0,0
    scale 2
    subpixel rgb
}

exec swayidle -w \
         timeout 300 'swaylock -f' \
         timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
         before-sleep 'swaylock -f'


### Input configuration - MacBook touchpad
input "1452:610:bcm5974" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
    scroll_factor 0.5
}

### Key bindings - Basics
bindsym $mod+t exec $term
bindsym $mod+b exec $browser
bindsym $mod+q kill
bindsym $mod+space exec $menu
bindsym $mod+e exec $filemanager
bindsym $mod+Shift+q exec swaylock -f
bindsym $mod+Escape exec wlogout --layout ~/.config/wlogout/layout --css ~/.config/wlogout/style.css --buttons-per-row 2 --column-spacing 50 --row-spacing 50 
## MacBook function keys
# Brightness
bindsym XF86MonBrightnessUp exec brightnessctl set +10%
bindsym XF86MonBrightnessDown exec brightnessctl set 10%-

# Volume
bindsym XF86AudioRaiseVolume exec pamixer -i 5
bindsym XF86AudioLowerVolume exec pamixer -d 5
bindsym XF86AudioMute exec pamixer -t

# Media keys
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

### Moving around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

### Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5

### Layout
bindsym $mod+Shift+b splith
bindsym $mod+Shift+v splitv
bindsym $mod+minus layout toggle split
bindsym $mod+m fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+a focus parent

### Resizing
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+r mode "resize"

### Status Bar
bar {
    swaybar_command waybar
}

### Window rules
for_window [app_id="org.gnome.Nautilus"] floating enable, resize set 1000 700
for_window [app_id="pavucontrol"] floating enable, resize set 600 400
for_window [app_id="wlogout"] floating enable, sticky enable, fullscreen disable, move position top, resize set 600 400

### Aesthetics
default_border pixel 2
default_floating_border pixel 2
gaps inner 4
gaps outer 2

# Window title font
font pango:FiraCode Nerd Font Medium 11

# Colors
client.focused          #4c7899 #285577 #ffffff #2e9ef4   #285577
client.focused_inactive #333333 #5f676a #ffffff #484e50   #5f676a
client.unfocused        #333333 #222222 #888888 #292d2e   #222222
client.urgent           #2f343a #900000 #ffffff #900000   #900000

### Autostart
exec --no-startup-id swaymsg 'workspace 1; exec kitty zsh -c "sleep 0.1; fastfetch; zsh"'
exec mako
exec nm-applet --indicator
